<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portal de Minijogos B√≠blicos ‚Äî Apocalipse 12</title>
  <meta name="description" content="Jogos b√≠blicos mobile-first: mem√≥ria, quiz, forca, ca√ßa-palavras e sorteio de vers√≠culo." />
  <style>
    /* =======================
       Mobile-first + variables
       ======================= */
    :root{
      --bg: #f6f7fb;
      --card: #ffffff;
      --primary: #6a1b9a;
      --primary-600: #4527a0;
      --accent: #ffca28;
      --muted: #67707d;
      --success: #43a047;
      --danger: #e53935;
      --glass: rgba(255,255,255,0.6);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, Roboto, system-ui, -apple-system, 'Segoe UI', Arial;
      background: linear-gradient(180deg,#fdfbff 0%,var(--bg) 100%);
      color:#1f2933;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:16px;
    }

    /* header */
    header.app-header{
      display:flex;gap:12px;align-items:center;justify-content:space-between;
      margin-bottom:12px;
    }
    .branding{display:flex;gap:12px;align-items:center}
    .logo{
      width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--primary),var(--primary-600));
      display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:800;font-size:1.1rem;box-shadow:0 6px 18px rgba(106,27,154,0.18)
    }
    h1{font-size:1.05rem;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:0.9rem}

    /* nav tabs */
    nav.tabs{display:flex;gap:8px;overflow:auto;padding-bottom:8px;margin:10px 0}
    .tab{flex:0 0 auto;padding:10px 14px;border-radius:12px;background:var(--card);border:1px solid #eee;cursor:pointer;font-weight:700;color:var(--primary);}
    .tab.active{background:linear-gradient(90deg,var(--primary),var(--primary-600));color:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.08)}

    /* card layout */
    .card{background:var(--card);border-radius:14px;padding:14px;margin-bottom:14px;box-shadow:0 6px 24px rgba(16,24,40,0.06)}
    h2{font-size:1rem;margin:0 0 8px;color:var(--primary)}
    .hint{font-size:0.88rem;color:var(--muted);margin-bottom:10px}

    /* responsive grid for games */
    .games-grid{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:720px){.games-grid{grid-template-columns:1fr 420px}}

    /* memory */
    .memory-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;width:100%;max-width:360px;margin:auto}
    .m-card{aspect-ratio:1/1;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:clamp(18px,4vw,26px);cursor:pointer;user-select:none;background:linear-gradient(180deg,#dbeafe,#bde0ff);color:#06365a;transition:transform .15s,opacity .15s}
    .m-card.flipped{background:linear-gradient(180deg,#dcedc8,#b7e4c7);color:#083d2a}
    .m-card.matched{opacity:.6;cursor:default}

    /* quiz */
    .quiz-question{font-weight:700}
    .options{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .opt{padding:10px;border-radius:10px;border:1px solid #eee;background:#fafafa;cursor:pointer;font-weight:600}
    .opt.correct{background:linear-gradient(90deg,var(--success),#7bd188);color:#fff}
    .opt.wrong{background:linear-gradient(90deg,var(--danger),#ff6f62);color:#fff}

    /* hangman/forca */
    .forca-word{letter-spacing:0.6rem;font-weight:800;font-size:1.1rem}
    .alpha{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
    .alpha button{padding:8px 10px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer;font-weight:700}
    .alpha button:disabled{opacity:.5;cursor:default}
    .status{margin-top:8px;font-weight:700}

    /* wordsearch */
    .ws-grid{display:grid;grid-template-columns:repeat(10,1fr);gap:4px;max-width:360px}
    .ws-cell{aspect-ratio:1/1;border-radius:6px;background:#fff;display:flex;align-items:center;justify-content:center;font-weight:800}
    .ws-cell.sel{background:linear-gradient(90deg,#ffe29f,#ffd27a)}
    .word-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    .word-list li{background:#f8f8fb;padding:6px 8px;border-radius:8px;font-weight:700}

    /* verse draw */
    .verse{font-size:0.98rem;background:linear-gradient(90deg,#fff9e6,#fff5d6);padding:10px;border-radius:10px}

    /* footer */
    footer{margin-top:10px;text-align:center;color:var(--muted);font-size:0.86rem}

    
    body {
      font-family: system-ui, sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #ede7f6, #e3f2fd);
      color: #2c2c2c;
    }

    header {
      text-align: center;
      background: linear-gradient(90deg, #4a148c, #6a1b9a);
      color: #fff;
      padding: 1.5rem;
    }

    header h1 {
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      color: #ffeb3b;
    }

    main {
      max-width: 1000px;
      margin: 1rem auto;
      padding: 0 1rem;
    }

    section {
      background: #fff;
      border-radius: 14px;
      padding: 1.5rem;
      margin: 1rem 0;
      box-shadow: 0 4px 18px #0001;
    }

    h2 {
      text-align: center;
      margin-bottom: 0.8rem;
      color: #6a1b9a;
    }

    .btn {
      background: #6a1b9a;
      color: #fff;
      padding: 0.7rem 1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: 0.2s;
    }

    .btn:hover {
      background: #4527a0;
      transform: scale(1.05);
    }

    /* Texto teatral */
    .teatro {
      background: #fef9e7;
      border-left: 6px solid #fbc02d;
      padding: 1.2rem;
      border-radius: 10px;
      margin-bottom: 1.5rem;
    }

    .fala {
      margin-bottom: 1rem;
      font-size: 1.05rem;
      line-height: 1.5;
    }

    .fala strong {
      color: #6a1b9a;
    }

    footer {
      text-align: center;
      padding: 1rem;
      color: #666;
      font-size: 0.9rem;
    }
  
  </style>
</head>
<body>
  <header class="app-header">
    <div class="branding">
      <div class="logo" aria-hidden>AJ</div>
      <div>
        <h1>Portal de Minijogos B√≠blicos</h1>
        <p class="lead">Aprenda sobre Apocalipse 12 com jogos educativos ‚Äî feito para celular.</p>
      </div>
    </div>
    <div style="text-align:right">
      <small style="color:var(--muted)">Vers√≠culos: Ap 12 | Criado para catequese</small>
    </div>
  </header>

  <nav class="tabs" role="tablist" aria-label="Navega√ß√£o de jogos">
    <button class="tab active" data-tab="home" role="tab" aria-selected="true">In√≠cio</button>
    <button class="tab" data-tab="memoria" role="tab">Mem√≥ria</button>
    <button class="tab" data-tab="quiz" role="tab">Quiz</button>
    <button class="tab" data-tab="forca" role="tab">Forca</button>
    <button class="tab" data-tab="caca" role="tab">Ca√ßa‚Äëpalavras</button>
    <button class="tab" data-tab="verso" role="tab">Sorteio de Vers√≠culo</button>
  </nav>

  <main>
    <section id="view-home" class="card" role="region" aria-labelledby="home-title">
      <h2 id="home-title">Bem-vindo!</h2>
      <p class="hint">Escolha um jogo na barra acima. Cada atividade tem instru√ß√µes simples e √© pensada para crian√ßas e jovens da catequese ‚Äî curta e compartilhe!</p>
      <div class="card" style="margin-top:10px">
        <h3 style="margin:0 0 8px">Como usar</h3>
        <ol style="padding-left:18px;margin:0;color:var(--muted)">
          <li>Toque em uma aba para abrir o jogo.</li>
          <li>Siga as instru√ß√µes do jogo ‚Äî tudo funciona no celular.</li>
          <li>Use o bot√£o "Reiniciar" em cada jogo para jogar outra vez.</li>
        </ol>
      </div>
      <br>
      <br>
      
      <h2>üé≠ Encena√ß√£o Catequ√©tica</h2>

      <div class="fala">
        <strong>üë© Jovem 1 ‚Äî Introdu√ß√£o:</strong><br>
        ‚ÄúHoje n√≥s vamos falar sobre uma vis√£o muito importante da B√≠blia, que est√° no Apocalipse cap√≠tulo 12: A Mulher e o Drag√£o.
        Essa passagem √© cheia de s√≠mbolos. Cada um deles nos ajuda a entender a luta entre o bem e o mal e como Deus cuida de n√≥s.
        Vamos conhecer esses s√≠mbolos juntos.‚Äù
      </div>

      <div class="fala">
        <strong>üë¶ Jovem 2 ‚Äî Explicando os s√≠mbolos:</strong><br>
        ‚ÄúA mulher vestida de sol representa Maria e tamb√©m a Igreja.
        Ela est√° com a lua debaixo dos p√©s e uma coroa de doze estrelas ‚Äî isso mostra a vit√≥ria que Deus d√° ao Seu povo.
        O drag√£o vermelho √© o s√≠mbolo do inimigo, Satan√°s, que tenta destruir o filho da mulher.
        Esse filho √© Jesus, que nasceu para salvar o mundo e reinar com justi√ßa.
        Quando o drag√£o persegue a mulher, Deus a protege e leva para o deserto, mostrando que Ele sempre cuida dos que confiam n‚ÄôEle.‚Äù
      </div>

      <div class="fala">
        <strong>üë© Jovem 3 ‚Äî Aplica√ß√£o para n√≥s hoje:</strong><br>
        ‚ÄúEssa hist√≥ria n√£o √© s√≥ sobre o passado, mas tamb√©m fala do presente.
        O drag√£o ainda tenta nos enganar e afastar de Deus. Mas Maria e a Igreja continuam nos guiando para Jesus.
        O Apocalipse 12 nos lembra que a vit√≥ria j√° √© de Cristo.
        Se ficarmos firmes na f√©, unidos em ora√ß√£o e confian√ßa em Deus, tamb√©m participamos dessa vit√≥ria.
        No fim, o bem vence o mal, e n√≥s podemos ter esperan√ßa!‚Äù
      </div>
    
    </section>

    <div class="games-grid">
      <section id="view-memoria" class="card" role="region" aria-labelledby="memoria-title" hidden>
        <h2 id="memoria-title">üß† Jogo da Mem√≥ria</h2>
        <p class="hint">Encontre pares de s√≠mbolos e personagens do cap√≠tulo 12. Toque nas cartas para virar.</p>
        <div style="display:flex;gap:10px;align-items:center;justify-content:center;margin-bottom:10px;flex-wrap:wrap">
          <button class="tabbtn btn" id="memReset">üîÅ Reiniciar</button>
          <div style="color:var(--muted);font-weight:700">Pares encontrados: <span id="memScore">0</span>/<span id="memTotal">0</span></div>
        </div>
        <div class="memory-grid" id="memoryGrid" aria-live="polite"></div>
      </section>

      <aside style="min-width:0">
        <section id="view-quiz" class="card" role="region" aria-labelledby="quiz-title" hidden>
          <h2 id="quiz-title">‚ùì Quiz B√≠blico</h2>
          <p class="hint">Responda perguntas curtas sobre Apocalipse 12. Toque em uma op√ß√£o para marcar.</p>
          <div id="quizBox"></div>
          <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-end">
            <button class="btn" id="quizReset">Reiniciar Quiz</button>
          </div>
        </section>

        <section id="view-forca" class="card" role="region" aria-labelledby="forca-title" hidden>
          <h2 id="forca-title">üî§ Forca (Hangman)</h2>
          <p class="hint">Descubra a palavra ‚Äî letras b√≠blicas relacionadas ao cap√≠tulo 12.</p>
          <div class="forca-word" id="forcaWord">_ _ _ _</div>
          <div class="alpha" id="alpha"></div>
          <div class="status" id="forcaStatus"></div>
          <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-end">
            <button class="btn" id="forcaReset">Nova Palavra</button>
          </div>
        </section>

        <section id="view-caca" class="card" role="region" aria-labelledby="caca-title" hidden>
          <h2 id="caca-title">üîé Ca√ßa‚Äëpalavras</h2>
          <p class="hint">Toque nas letras em sequ√™ncia para formar as palavras listadas.</p>
          <div id="wsGrid" class="ws-grid" aria-hidden="false"></div>
          <ul class="word-list" id="wsWords"></ul>
          <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-end">
            <button class="btn" id="wsReset">Gerar Nova Grade</button>
          </div>
        </section>

        <section id="view-verso" class="card" role="region" aria-labelledby="verso-title" hidden>
          <h2 id="verso-title">üé≤ Sorteio de Vers√≠culo</h2>
          <p class="hint">Toque para sortear um vers√≠culo curto ligado √† mensagem de prote√ß√£o e vit√≥ria.</p>
          <div class="verse" id="verseBox">Toque em "Sortear" para receber um vers√≠culo.</div>
          <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-end">
            <button class="btn" id="drawVerse">Sortear</button>
          </div>
        </section>
      </aside>
    </div>

     <!-- <section class="teatro"></section> -->
    
    <footer>
      <small>Feito para catequese ‚Äî Conte√∫do baseado em Apocalipse 12. <strong>Toque uma aba</strong> para come√ßar a jogar.</small>
    </footer>
  </main>

  <script>
    /* ======================================================
       Data / assets (f√°cil de editar)
       ====================================================== */
    const MEM_SYMBOLS = ["‚òÄÔ∏è","üåô","‚≠ê","üêâ","üëë","üë©","üëº","üåµ"];
    const QUIZ = [
      {q:'Quem luta contra o drag√£o em Apocalipse 12?', opts:['Miguel','Gabriel','Rafael','Pedro'], a:0, explain:'Miguel √© o arcanjo que lidera a batalha contra o drag√£o.'},
      {q:'O que a mulher tem sobre a cabe√ßa?', opts:['12 estrelas','7 selos','uma espada','um manto'], a:0, explain:'A coroa de 12 estrelas aparece na vis√£o.'},
      {q:'Para onde a mulher foge?', opts:['Para o deserto','Para a cidade','Para o mar','Para a montanha'], a:0, explain:'A mulher foge para o deserto, onde √© protegida.'}
    ];
    const HANG_WORDS = ['MULHER','DRAGAO','MIGUEL','DESERTO','ESTRELAS'];
    const WS_WORDS = ['JESUS','MARIA','DRAGAO','MIGUEL','DESERTO','ESTRELAS'];
    const VERSES = [
      '"E houve guerra no c√©u..." ‚Äî Ap 12:7',
      '"A mulher fugiu para o deserto..." ‚Äî Ap 12:6',
      '"O drag√£o foi lan√ßado..." ‚Äî Ap 12:9',
      '"Pois que lhes foi dado o poder..." ‚Äî Ap 12:10'
    ];

    /* ======================================================
       Simple tab system
       ====================================================== */
    document.querySelectorAll('.tab').forEach(btn => btn.addEventListener('click', ()=>{
      document.querySelectorAll('.tab').forEach(t=>{t.classList.remove('active');t.setAttribute('aria-selected','false')});
      btn.classList.add('active');btn.setAttribute('aria-selected','true');
      const tab = btn.dataset.tab;
      // show/hide views
      document.querySelectorAll('[id^="view-"]').forEach(v=> v.hidden = true);
      const sel = document.getElementById('view-'+tab) || document.getElementById('view-home');
      sel.hidden = false;
      // small focus for accessibility
      sel.querySelector('button, [tabindex], input, .m-card')?.focus?.();
    }));

    /* ======================================================
       MEMORY - optimized logic
       ====================================================== */
    const memGrid = document.getElementById('memoryGrid');
    const memScore = document.getElementById('memScore');
    const memTotal = document.getElementById('memTotal');
    document.getElementById('memReset').addEventListener('click', initMemory);

    function initMemory(){
      memGrid.innerHTML = '';
      const symbols = shuffle([...MEM_SYMBOLS, ...MEM_SYMBOLS]);
      memTotal.textContent = MEM_SYMBOLS.length;
      memScore.textContent = '0';
      let first = null, lock = false, found = 0;
      symbols.forEach((val,i)=>{
        const btn = document.createElement('button');
        btn.className = 'm-card'; btn.dataset.value = val; btn.type='button'; btn.setAttribute('aria-label','Carta'); btn.textContent='?';
        btn.addEventListener('click', ()=>{
          if(lock || btn.classList.contains('flipped') || btn.classList.contains('matched')) return;
          btn.classList.add('flipped'); btn.textContent = val;
          if(!first){ first = btn; return; }
          // second flip
          if(first.dataset.value === btn.dataset.value){
            first.classList.add('matched'); btn.classList.add('matched'); found++; memScore.textContent = String(found);
            first=null;
          } else {
            lock = true; setTimeout(()=>{ first.classList.remove('flipped'); first.textContent='?'; btn.classList.remove('flipped'); btn.textContent='?'; first=null; lock=false }, 700);
          }
        });
        memGrid.appendChild(btn);
      });
    }
    initMemory();

    /* ======================================================
       QUIZ
       ====================================================== */
    const quizBox = document.getElementById('quizBox');
    function renderQuiz(){
      quizBox.innerHTML = '';
      QUIZ.forEach((q,i)=>{
        const wrap = document.createElement('div');
        wrap.className = 'card';
        const qEl = document.createElement('div'); qEl.className='quiz-question'; qEl.textContent = `${i+1}. ${q.q}`;
        wrap.appendChild(qEl);
        const opts = document.createElement('div'); opts.className='options';
        q.opts.forEach((o,oi)=>{
          const b = document.createElement('button'); b.className='opt'; b.type='button'; b.textContent = o;
          b.addEventListener('click', ()=>{
            // disable siblings
            [...opts.children].forEach(c=>c.disabled = true);
            if(oi === q.a){ b.classList.add('correct'); }
            else { b.classList.add('wrong'); opts.children[q.a].classList.add('correct'); }
            // show explanation
            const ex = document.createElement('div'); ex.style.marginTop='8px'; ex.style.color='var(--muted)'; ex.textContent = q.explain || '';
            wrap.appendChild(ex);
          });
          opts.appendChild(b);
        });
        wrap.appendChild(opts);
        quizBox.appendChild(wrap);
      });
    }
    document.getElementById('quizReset').addEventListener('click', renderQuiz);
    renderQuiz();

    /* ======================================================
       FORCA (Hangman) - simple
       ====================================================== */
    const forcaWordEl = document.getElementById('forcaWord');
    const alphaEl = document.getElementById('alpha');
    const forcaStatus = document.getElementById('forcaStatus');
    let secret = '';
    function initForca(){
      secret = HANG_WORDS[Math.floor(Math.random()*HANG_WORDS.length)];
      window.forcaState = {display: Array(secret.length).fill('_'), tries:6, used:[]};
      renderForca();
    }
    function renderForca(){
      forcaWordEl.textContent = window.forcaState.display.join(' ');
      alphaEl.innerHTML = '';
      'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').forEach(ch=>{
        const b = document.createElement('button'); b.textContent=ch; b.disabled = window.forcaState.used.includes(ch);
        b.addEventListener('click', ()=>{
          if(window.forcaState.used.includes(ch)) return; window.forcaState.used.push(ch);
          if(secret.includes(ch)){
            secret.split('').forEach((c,i)=>{ if(c===ch) window.forcaState.display[i]=c });
          } else { window.forcaState.tries--; }
          // update
          renderForca();
        });
        alphaEl.appendChild(b);
      });
      forcaStatus.textContent = `Tentativas restantes: ${window.forcaState.tries}`;
      if(!window.forcaState.display.includes('_')){ forcaStatus.textContent = 'üéâ Voc√™ venceu!'; disableAlpha(); }
      if(window.forcaState.tries <=0){ forcaStatus.textContent = `‚ò†Ô∏è Perdeu ‚Äî palavra: ${secret}`; disableAlpha(); }
    }
    function disableAlpha(){ [...alphaEl.querySelectorAll('button')].forEach(b=>b.disabled=true) }
    document.getElementById('forcaReset').addEventListener('click', initForca);
    initForca();

    /* ======================================================
       CA√áA-PALAVRAS (Wordsearch) - simple place horiz/vert/backwards
       ====================================================== */
    const wsGrid = document.getElementById('wsGrid');
    const wsWordsEl = document.getElementById('wsWords');
    document.getElementById('wsReset').addEventListener('click', ()=> generateWS(WS_WORDS));

    function generateWS(words){
      const size = 10;
      // create empty grid
      let grid = Array.from({length:size},()=>Array.from({length:size},()=>' '));
      function placeWord(w){
        w = w.toUpperCase();
        const attempts=500; let ok=false;
        for(let t=0;t<attempts && !ok;t++){
          const dir = Math.random()<0.5? 'H':'V';
          const rev = Math.random()<0.5;
          const ww = rev? [...w].reverse().join(''): w;
          const row = Math.floor(Math.random()*size);
          const col = Math.floor(Math.random()*size);
          if(dir==='H' && col+ww.length<=size){
            let fits=true; for(let i=0;i<ww.length;i++){ const cur = grid[row][col+i]; if(cur!==' ' && cur!==ww[i]){fits=false;break} }
            if(fits){ for(let i=0;i<ww.length;i++) grid[row][col+i]=ww[i]; ok=true; break }
          }
          if(dir==='V' && row+ww.length<=size){
            let fits=true; for(let i=0;i<ww.length;i++){ const cur = grid[row+i][col]; if(cur!==' ' && cur!==ww[i]){fits=false;break} }
            if(fits){ for(let i=0;i<ww.length;i++) grid[row+i][col]=ww[i]; ok=true; break }
          }
        }
        return ok;
      }
      // try place all
      words.forEach(w=>{ if(!placeWord(w)) console.warn('n√£o colocou',w) });
      // fill
      for(let r=0;r<size;r++) for(let c=0;c<size;c++) if(grid[r][c]===' ') grid[r][c] = String.fromCharCode(65+Math.floor(Math.random()*26));
      // render
      wsGrid.innerHTML=''; wsGrid.style.gridTemplateColumns = `repeat(${size},1fr)`;
      const cells = [];
      for(let r=0;r<size;r++) for(let c=0;c<size;c++){
        const div = document.createElement('div'); div.className='ws-cell'; div.textContent = grid[r][c]; div.dataset.r=r; div.dataset.c=c;
        wsGrid.appendChild(div); cells.push(div);
      }
      // list
      wsWordsEl.innerHTML = '';
      words.forEach(w=>{ const li = document.createElement('li'); li.textContent = w.toUpperCase(); wsWordsEl.appendChild(li) });

      // selection support (simple contiguous selection only horizontal/vertical)
      let selecting = false; let selCells = [];
      wsGrid.querySelectorAll('.ws-cell').forEach(cell=>{
        cell.addEventListener('touchstart', startEvt, {passive:true}); cell.addEventListener('mousedown', startEvt);
        function startEvt(e){ selecting=true; clearSel(); select(cell); }
        cell.addEventListener('touchmove', moveEvt, {passive:true}); cell.addEventListener('mousemove', moveEvt);
        function moveEvt(e){ if(!selecting) return; const el = document.elementFromPoint((e.touches?e.touches[0].clientX:e.clientX),(e.touches?e.touches[0].clientY:e.clientY)); if(el && el.classList.contains('ws-cell') && !selCells.includes(el)) select(el); }
        cell.addEventListener('touchend', endEvt); cell.addEventListener('mouseup', endEvt);
        function endEvt(){ selecting=false; checkSelection(); }
      });
      function select(el){ el.classList.add('sel'); selCells.push(el); }
      function clearSel(){ selCells.forEach(s=>s.classList.remove('sel')); selCells=[]; }
      function checkSelection(){ const word = selCells.map(s=>s.textContent).join(''); const rword = [...word].reverse().join('');
        const wordsUp = words.map(w=>w.toUpperCase()); if(wordsUp.includes(word) || wordsUp.includes(rword)){
          // mark found
          selCells.forEach(s=>s.classList.add('sel','found'));
          [...wsWordsEl.children].forEach(li=>{ if(li.textContent===word||li.textContent===rword) li.style.textDecoration='line-through' });
        }
        setTimeout(()=>{ clearSel() },250);
      }
    }
    generateWS(WS_WORDS);

    /* ======================================================
       VERSE DRAW
       ====================================================== */
    document.getElementById('drawVerse').addEventListener('click', ()=>{
      const v = VERSES[Math.floor(Math.random()*VERSES.length)]; document.getElementById('verseBox').textContent = v;
    });

    /* ======================================================
       Utilities
       ====================================================== */
    function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]] } return a }

    // start with Home visible; tabs already set. ensure home shown
    document.querySelectorAll('[id^="view-"]').forEach(v=> v.hidden = true);
    document.getElementById('view-home').hidden = false;
  </script>
</body>
</html>

